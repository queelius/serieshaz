% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dfr_dist_series.R
\name{dfr_dist_series}
\alias{dfr_dist_series}
\title{Series System Distribution from DFR Components}
\usage{
dfr_dist_series(components, par = NULL, n_par = NULL)
}
\arguments{
\item{components}{A list of \code{dfr_dist} objects representing system
components.}

\item{par}{Optional concatenated parameter vector
\eqn{\theta = (\theta_1, \ldots, \theta_m)}. If \code{NULL}, parameters
are concatenated from component objects.}

\item{n_par}{Optional integer vector giving the number of parameters per
component. Inferred from component \code{par} if not supplied; required
when any component has \code{NULL} parameters.}
}
\value{
A \code{dfr_dist_series} object (inherits \code{dfr_dist}).
Extra fields: \code{$components}, \code{$layout}, \code{$m}, \code{$n_par}.
}
\description{
Composes m \code{dfr_dist} component distributions into a series system
distribution. A series system fails when any component fails, so the
system hazard is the sum of component hazards: \eqn{h_{sys}(t) = \sum_j h_j(t)}.
}
\details{
The resulting object inherits from \code{dfr_dist}, so all existing methods
(hazard, survival, CDF, density, sampling, log-likelihood, MLE fitting)
work automatically.

\strong{Parameter layout}: Parameters are stored as a single concatenated
vector. The \code{$layout} field maps global indices to component indices.
For example, if component 1 has 2 parameters and component 2 has 1, then
\code{layout = list(1:2, 3)}.

\strong{Analytical cumulative hazard}: If \emph{all} components provide
\code{cum_haz_rate}, the series system gets an analytical
\eqn{H_{sys}(t) = \sum_j H_j(t)}. Otherwise, falls back to numerical
integration.

\strong{Score and Hessian}: Fall back to \code{numDeriv::grad} and
\code{numDeriv::hessian} on the (correct) composed log-likelihood.

\strong{Identifiability}: Exponential series systems are \emph{not}
identifiable from system-level data alone --- only the sum of rates is
identifiable. When fitting to data, check \code{sum(coef(result))} rather
than individual rate parameters. Mixed-type series systems (e.g., Weibull +
Gompertz) are generally identifiable because the components have different
hazard shapes.

\strong{Nested series}: A \code{dfr_dist_series} is itself a
\code{dfr_dist}, so it can be used as a component in another series system.
The resulting nested system's hazard is the sum of all leaf-component
hazards.

\strong{Class hierarchy}: \code{dfr_dist_series} inherits from
\code{dfr_dist} -> \code{likelihood_model} -> \code{univariate_dist} ->
\code{dist}. All methods from these parent classes work automatically.
}
\examples{
\donttest{
library(flexhaz)

# --- Basic exponential series ---
# Three exponential components -> equivalent to single exponential
sys <- dfr_dist_series(list(
    dfr_exponential(0.1),
    dfr_exponential(0.2),
    dfr_exponential(0.3)
))
# System hazard = 0.6 (constant)
h <- hazard(sys)
h(10)  # 0.6

# System survival at t = 5
S <- surv(sys)
S(5)   # exp(-0.6 * 5)

# --- Mixed Weibull + Gompertz series ---
sys2 <- dfr_dist_series(list(
    dfr_weibull(shape = 2, scale = 100),
    dfr_gompertz(a = 0.01, b = 0.1)
))
h2 <- hazard(sys2)
h2(50)  # sum of Weibull and Gompertz hazards at t=50

# --- Nested series ---
subsystem <- dfr_dist_series(list(
    dfr_exponential(0.05),
    dfr_exponential(0.10)
))
full_system <- dfr_dist_series(list(
    subsystem,
    dfr_weibull(shape = 2, scale = 200)
))

# --- Fitting workflow ---
solver <- fit(sys)
# result <- solver(df, par = c(0.1, 0.2, 0.3))
# coef(result)   # fitted parameters
# vcov(result)   # variance-covariance matrix
# logLik(result) # maximized log-likelihood
}

}
\seealso{
\code{\link{is_dfr_dist_series}} for the type predicate,
\code{\link{ncomponents}} and \code{\link{component}} for introspection,
\code{\link{param_layout}} for parameter index mapping,
\code{\link{component_hazard}} for per-component hazard closures,
\code{\link{sample_components}} for sampling component lifetimes,
\code{\link[flexhaz]{dfr_dist}} for the parent class constructor,
\code{\link[algebraic.dist]{hazard}} for distribution generics

Other series system: 
\code{\link{assumptions.dfr_dist_series}()},
\code{\link{is_dfr_dist_series}()},
\code{\link{print.dfr_dist_series}()}
}
\concept{series system}
